# DialogES: An Large Dataset for Generating Dialogue Events and Summaries

<p align="center">
  <img src="cover.png" alt="Example Image" style="width:80%; height:auto;">
</p>

## 项目简介

本项目提出一个对话事件抽取和摘要生成数据集——DialogES，数据集包括共 44,672 组多轮对话，每组对话采用自动的方式标注出对话事件和对话摘要。
该数据集主要用于训练对话摘要模型，研究者可采用单任务和多任务学习的方式利用本数据集。

## 收集过程

1. 对话采集：本数据集中的对话数据收集自两个已有的开源数据集，即 NaturalConv 和 HundredCV-Chat；
2. 事件标注：采用 few-shot in-context learning 的方式标注，人工标注出 5 个对话-事件样本，作为演示样例嵌入大模型的提示词中，然后引导模型对输入对话进行标注；
3. 摘要标注：采用 zero-shot learning 的方式标注，编写提示词"请总结对话的主要内容："，要求大模型生成对话摘要；
4. 自动标注：按照以上准则，本项目利用 Deepseek-V3 模型分别标注出每组对话的事件和摘要，并保存为 json 文件。

标注完成的数据集包括两个文件，NaturalConv_Sum.jsonl 文件中包含了基于 NaturalConv 数据集标注出的 19,917 个样本，而 Hundred_Chat_Sum.jsonl 文件中包含了基于 HundredCV-Chat 标注出的 24,755 个样本。

## 标注示范

### 事件标注
以下是数据集中的一组对话：
```json
User1: 你好啊。
User2: 你好啊，好久不见了。
User1: 最近你看了郜林在社交媒体上发的打篮球的视频了吗？
User2: 没有呢，我平时不怎么关注这些，话说郜林是谁啊？
User1: 郜林是谁你都不知道？他是恒大足球的前锋啊。
User2: 哦哦，那他怎么去打篮球了啊，跟谁打的？
User1: 他跟朋友一起打的啊，里面朱芳雨也参与了，视频还挺有意思的。
User2: 哈哈，那他跟朱芳雨打篮球是被完虐啊。
User1: 谁说不是呢，郜林好不容易拿到球了，结果正准备投的时候就被朱芳雨给打飞出去了。
User2: 哈哈哈哈，很有画面感啊。
User1: 是啊，重点是视频里面朱芳雨连跳都没有跳，直接一巴掌给球扇飞了。
User2: 哈哈，朱芳雨个子可是很高的，而且他的底子毕竟还是在的啊。
User1: 对呀，回头我把那视频发给你看看，真的很搞笑呢。
User2: 嗯嗯，好的呀。
User1: 现在朱芳雨是广东男篮的总经理，广东队在他的领导下可是日渐辉煌啊。
User2: 没错呢，可见他不光技术好，还是很合格的领导人呢。
User1: 是啊，我很期待接下来广东队在他领导下的表现呢。
User2: 没错，我也是，希望能够继续夺冠。
User1: 嗯嗯，那我先去上班了，回头见。
User2: 好的再见。
```

本项目对对话事件的格式做出限定，采用"事件+序号+冒号"的格式，以第三人称的视角顺序描述对话中的事件：
```json
事件1: User1 和 User2 互相问候，并提到很久没见。
事件2: User1 提到郜林在社交媒体上发布了打篮球的视频。
事件3: User2 不知道郜林是谁，User1 解释郜林是恒大足球的前锋。
事件4: User1 进一步描述了视频的内容，提到朱芳雨也参与其中，并且朱芳雨表现得很出色。
事件5: User1 承诺将把视频发给 User2 看看。
事件6: User1 提到朱芳雨目前是广东男篮的总经理，User2 表示认同并期待广东队的表现。
事件7: User1 准备去上班，并与 User2 道别。
```

## 数据样例

DialogES 数据集默认保存为 jsonl 文件，其中每行是一个 json 对象，包含三个字段：

- context: 对话语句列表，用于存储对话上下文；
- events: 事件列表，用于顺序存储对话中的事件；
- summary: 字符串，用于表示对话摘要；

数据集中的一个样本如下：
```json
{
  "context": [
    "User1: 你好，你也来取快递啊。", 
    "User2: 是啊，今天认可真多，我都排好久了，你在看啥呢？", 
    "User1: 我在看体育新闻，是关于森林狼队队员威金斯的。", 
    "User2: 这个人我知道，他很厉害，之前在NBA选秀上获得了状元。", 
    "User1: 对，就是他，不过这次在和篮网队的对决中他发挥的不是太好。", 
    "User2: 可能状态不好吧，最后结果咋样，赢了没？", 
    "User1: 赢了，不过也是险赢。", 
    "User2: 能赢就已经很厉害了，为啥还说人家表现不好。", 
    "User1: 也不能说不好，表现的有好有坏吧。", 
    "User2: 这话怎么说。", 
    "User1: 这场比赛中威金斯命中率很差，屡屡败投，不过好在他篮板打的还不错。", 
    "User2: 看来还需要多加练习。", 
    "User1: 嗯嗯，他前期可能也是没有找好状态，不过后期状态调整了上来，连续为队伍得分，帮助队伍取得胜利。", 
    "User2: 这也是功大于过了，还是值得肯定的。", 
    "User1: 前不久他还公开放大话说NBA球员里找不到一百位比他更优秀的。", 
    "User2: 天呐，这么自信真的好么。", 
    "User1: 虽然他的实力无可否认，但保持谦虚还是有必要的。", 
    "User2: 可不是，太高调容易打脸。", 
    "User1: 我快递拿到了，我先走了，拜拜。", "User2: 拜拜。"
  ], 
  "events": [
    "事件1: User1 和 User2 在取快递时相遇并开始交谈。", 
    "事件2: User1 提到自己正在看关于森林狼队队员威金斯的体育新闻。", 
    "事件3: User2 表示了解威金斯，并提到他在NBA选秀上获得了状元。", 
    "事件4: User1 说明了威金斯在与篮网队对决中的表现不佳但仍帮助队伍险胜的情况。", 
    "事件5: User1 和 User2 讨论了威金斯在这场比赛的表现，从命中率差到后期调整状态并为队伍得分。", 
    "事件6: User1 提到了威金斯之前自信的言论，即NBA球员里找不到一百位比他更优秀的。", 
    "事件7: User2 对威金斯的高调言论表示惊讶，并认为保持谦虚是必要的。", 
    "事件8: User1 取到快递后与 User2 道别。"
  ], 
  "summary": "user1 和 user2 在取快递时讨论了森林狼队球员威金斯的表现，包括他在最近比赛中命中率低但帮助球队险胜的情况，以及他近期的自信言论。两人对威金斯的态度进行了探讨，从他的比赛表现到个人态度，并最终结束对话。"
}
```

## 数据统计

| 样本数 | 平均对话轮数 | 平均对话长度 | 对话平均事件数 | 平均事件长度 | 平均摘要长度 |
| --- | --- |--------|---------| --- | --- |
| 44,672 | 17.64 | 518.01    | 3.0     | 343.37 | 111.61 |

> 文本长度均为中文字符数（含空格、标点符号，以及人物角色等其他标注信息）

## 数据使用

请通过 Huggingface 下载本数据集，下载地址：[DialogES](https://huggingface.co/datasets/Jax-dan/DialogES)

### 下游任务
- 对话事件抽取：要求模型按照固定的格式和顺序描述对话中的事件；
- 对话摘要生成：要求模型生成对话的摘要；

### 使用方式
- 单任务学习：以"**context**"字段为输入，以"**summary**"/"**events**"字段为输出训练对话摘要生成/事件抽取模型；
- 多任务学习（推荐）：将数据集拆分成两个部分，一半构建为对话-摘要子集和对话-事件子集，另一半构建为对话-摘要子集，将两部分混合后用于模型的训练，可同时提升模型在两个任务上的性能。

### 推荐模型
- [Qwen2.5-1.5B](https://huggingface.co/Qwen/Qwen-2.5-1.5B) 模型
- [Chinese BART-Large](https://huggingface.co/fnlp/bart-large-chinese) 模型

## 引用

如果本项目对您的研究和学习有帮助，请按照如下方式引用：
```bibtex
@misc{DialogES,
  author = {Jiaxin Duan and Fengyu Lu},
  title = {{DialogES: A Large Dataset for Generating Dialogue Events and Summaries}},
  year = {2025}, % 根据实际年份调整
  howpublished = {\url{https://github.com/your-repo-url}}
}
```